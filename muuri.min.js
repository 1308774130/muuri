/*!
 * Muuri v0.3.0-dev
 * https://github.com/haltu/muuri
 * Copyright (c) 2015, Haltu Oy
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
!function(t,e){var i,n,r="Muuri";if("function"==typeof define&&define.amd)define(function(o){return i=o.defined&&o.defined("velocity")?o("velocity"):void 0,n=o.defined&&o.defined("hammer")?o("hammer"):void 0,e(t,r,i,n)});else if("object"==typeof module&&module.exports){try{i=require("velocity-animate")}catch(o){}try{n=require("hammerjs")}catch(o){}module.exports=e(t,r,i,n)}else i="function"==typeof t.jQuery?t.jQuery.Velocity:t.Velocity,n=t.Hammer,t[r]=e(t,r,i,n)}(this,function(t,e,n,r,o){"use strict";function a(e,i){var n,r,o,s=this;if(!$.body.contains(e))throw new nt("Container element must be an existing DOM element");n=s._settings=C(a.defaultOptions,i),s._element="string"==typeof e?$.querySelectorAll(e)[0]:e,s._id=++dt,ot[s._id]=s,s._layout=null,s._emitter=new a.Emitter,s._setSortGroup(n.dragSortGroup),s._sortConnections=et.isArray(n.dragSortConnections)&&n.dragSortConnections.length?n.dragSortConnections:null,s._itemShowHandler="function"==typeof n.show?n.show():F("show",n.show),s._itemHideHandler="function"==typeof n.hide?n.hide():F("hide",n.hide),E(e,n.containerClass),s.refresh(),s._items=[],r=n.items,"string"==typeof r?P(s._element.children).forEach(function(t){("*"===r||ft(t,r))&&s._items.push(new a.Item(s,t))}):(et.isArray(r)||v(r))&&(s._items=P(r).map(function(t){return new a.Item(s,t)})),"number"!=typeof n.layoutOnResize&&n.layoutOnResize!==!0||(o=x(function(){s.refresh().refreshItems().layout()},it.max(0,parseInt(n.layoutOnResize)||0)),s._resizeHandler=function(){o()},t.addEventListener("resize",s._resizeHandler)),n.layoutOnInit&&s.layout(!0)}function s(t,e){var i,n=this,r=t._settings;n._id=++dt,at[n._id]=n,e.parentNode!==t._element&&t._element.appendChild(e),E(e,r.itemClass),i="none"===A(e,"display"),E(e,i?r.itemHiddenClass:r.itemVisibleClass),n._gridId=t._id,n._element=e,n._child=e.children[0],n._animate=new a.AnimateLayout(n,e),n._animateChild=new a.AnimateVisibility(n,n._child),n._isDefaultAnimate=n._animate instanceof h,n._isDefaultChildAnimate=n._animateChild instanceof h,n._isActive=!i,n._isPositioning=!1,n._isHidden=i,n._isHiding=!1,n._isShowing=!1,n._visibilityQueue=[],n._layoutQueue=[],n._left=0,n._top=0,R(n._element,{left:"0",top:"0",transform:"translateX(0px) translateY(0px)",display:i?"none":"block"}),n._refresh(),n._refreshSortData(),i?t._itemHideHandler.start(n,!0):t._itemShowHandler.start(n,!0),n._drag=r.dragEnabled?new a.Drag(n):null,n._migrate={isActive:!1,appendTo:null,containerDiffX:0,containerDiffY:0,fromGrid:null,fromIndex:0,toIndex:0}}function l(t,e){var i=this,n=t._settings.layout,r=t._padding,o=t._border;i.items=e?e.concat():t.getItems("active"),i.slots={},i.setWidth=!1,i.setHeight=!1,i.width=t._width-o.left-o.right-r.left-r.right,i.height=t._height-o.top-o.bottom-r.top-r.bottom,"function"==typeof n?n(i):d(i,y(n)?n:{})}function d(t,e){var i,n,r,o,a=[],s=!!e.fillGaps,l=!!e.horizontal,f=!!e.alignRight,h=!!e.alignBottom;if(l?(t.setWidth=!0,t.width=0):(t.setHeight=!0,t.height=0),t.items.length){for(o=0;o<t.items.length;o++)r=t.items[o],n=d.getSlot(t,a,r._outerWidth,r._outerHeight,!l,s),l?t.width=it.max(t.width,n.left+n.width):t.height=it.max(t.height,n.top+n.height),t.slots[r._id]=n;if(f||h)for(i=tt.keys(t.slots),o=0;o<i.length;o++)n=t.slots[i[o]],f&&(n.left=t.width-(n.left+n.width)),h&&(n.top=t.height-(n.top+n.height))}}function f(){}function h(t,i){this._element=i,this._queue=e+"-"+ ++dt,this._isAnimating=!1}function u(t){if(!r)throw nt("["+e+"] required dependency Hammer is not defined.");var i,n=this,o=t._element,a=t.getGrid(),s=a._settings,l="function"==typeof s.dragStartPredicate?s.dragStartPredicate:u.defaultStartPredicate,d=null,f=null;n._itemId=t._id,n._gridId=a._id,n._hammer=i=new r.Manager(o),n._isMigrating=!1,n._dragData={},n._releaseData={},n._setupDragData(),n._setupReleaseData(),n._checkSortOverlap=x(function(){n._dragData.isActive&&n._checkOverlap()},s.dragSortInterval),n._sortPredicate="function"==typeof s.dragSortPredicate?s.dragSortPredicate:u.defaultSortPredicate,n._scrollHandler=function(t){n._onDragScroll(t)},i.add(new r.Pan({event:"drag",pointers:1,threshold:0,direction:r.DIRECTION_ALL})),i.add(new r.Press({event:"draginit",pointers:1,threshold:1e3,time:0})),i.set({touchAction:"none"}),i.on("draginit dragstart dragmove",function(t){f=t,d||(d=new _(function(){d===this&&n._onDragStart(f)})),d._isResolved&&n._dragData.isActive?n._onDragMove(t):d._isRejected||d._isResolved||l.call(n._getGrid(),n._getItem(),t,d)}).on("dragend dragcancel draginitup",function(t){d.reject(),l.call(n._getGrid(),n._getItem(),t,d),d._isResolved&&n._dragData.isActive&&n._onDragEnd(t),d=null,f=null}),z(o),z(t._child)}function _(t,e){this._isResolved=!1,this._isRejected=!1,this._onResolved=t,this._onRejected=e}function g(t,e){var i=t.length,n=i-1;return e>n?n:e<0?it.max(i+e,0):e}function c(t,e,i){if(!(t.length<2)){var n,r=g(t,e),o=g(t,i);r!==o&&(n=t[r],t[r]=t[o],t[o]=n)}}function p(t,e,i){if(!(t.length<2)){var n=g(t,e),r=g(t,i);n!==r&&t.splice(r,0,t.splice(n,1)[0])}}function m(t){var e,i=[],n=t.length;if(n)for(i[0]=t[0],e=1;e<n;e++)i.indexOf(t[e])<0&&(i[i.length]=t[e]);return i}function y(t){return"object"==typeof t&&"[object Object]"===tt.prototype.toString.call(t)}function v(t){var e=tt.prototype.toString.call(t);return"[object HTMLCollection]"===e||"[object NodeList]"===e}function w(t,e){return tt.keys(e).forEach(function(i){var n=y(e[i]);y(t[i])&&n?(t[i]=w({},t[i]),t[i]=w(t[i],e[i])):t[i]=n?w({},e[i]):et.isArray(e[i])?e[i].concat():e[i]}),t}function D(t){var e={};return tt.keys(t).forEach(function(i){var n=t[i];n!==o&&null!==n&&(e[i]=n)}),e}function C(t,e){var i=w({},t);return i=e?w(i,e):i,i.show&&i.show.styles&&(i.show.styles=D(i.show.styles)),i.hide&&i.hide.styles&&(i.hide.styles=D(i.hide.styles)),i}function S(t,e,i){var n="number"==typeof i?i:-1;t.splice.apply(t,[n<0?t.length-n+1:n,0].concat(e))}function x(e,i){var n,r="cancel",a="finish";return i>0?function(s){n!==o&&(n=t.clearTimeout(n),s===a&&e()),s!==r&&s!==a&&(n=t.setTimeout(function(){n=o,e()},i))}:function(t){t!==r&&e()}}function A(e,i){return t.getComputedStyle(e,null).getPropertyValue("transform"===i?ht.styleName||i:i)}function b(t,e){return parseFloat(A(t,e))||0}function H(t,e){return parseFloat((A(t,"transform")||"").replace("matrix(","").split(",")["x"===e?4:5])||0}function R(t,e){var i,n,r,o=tt.keys(e);for(r=0;r<o.length;r++)i=o[r],n=e[i],t.style["transform"===i&&ht?ht.propName:i]=n}function I(t,e){var i,r=tt.keys(e);for(i=0;i<r.length;i++)n.hook(t,r[i],e[r[i]])}function E(t,e){t.classList?t.classList.add(e):ft(t,"."+e)||(t.className+=" "+e)}function G(t,e){t.classList?t.classList.remove(e):ft(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim())}function P(t){return[].slice.call(t)}function X(){var t=rt.prototype,e=t.matches||t.matchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector;return function(t,i){return e.call(t,i)}}function Y(t){var e,i,n,r=$.documentElement,a=t.charAt(0).toUpperCase()+t.slice(1),s=["","Webkit","Moz","O","ms"];for(n=0;n<s.length;n++)if(e=s[n],i=e?e+a:t,r.style[i]!==o)return e=e.toLowerCase(),{prefix:e,propName:i,styleName:e?"-"+e+"-"+t:t};return null}function L(t,e){var i,n,r=j(t)||$,o={left:0,top:0};return r===e?o:(i=N(r,"padding"),n=N(e,"padding"),{left:n.left-i.left,top:n.top-i.top})}function k(e){var i=[],n=/(auto|scroll)/,r=e.parentNode;if(ut){if("fixed"===A(e,"position"))return i;for(;r&&r!==$&&r!==$.documentElement;)n.test(A(r,"overflow")+A(r,"overflow-y")+A(r,"overflow-x"))&&(i[i.length]=r),r="fixed"===A(r,"position")?null:r.parentNode;null!==r&&(i[i.length]=t)}else{for(;r&&r!==$;)"fixed"!==A(e,"position")||M(r)?(n.test(A(r,"overflow")+A(r,"overflow-y")+A(r,"overflow-x"))&&(i[i.length]=r),e=r,r=r.parentNode):r=r.parentNode;i[i.length-1]===$.documentElement?i[i.length-1]=t:i[i.length]=t}return i}function O(){if(!ht)return!0;var t,e,i=$.createElement("div"),n=$.createElement("div");return R(i,{display:"block",visibility:"hidden",position:"absolute",width:"1px",height:"1px",left:"1px",top:"0",margin:"0",transform:"none"}),R(n,{display:"block",position:"fixed",width:"1px",height:"1px",left:"0",top:"0",margin:"0",transform:"none"}),i.appendChild(n),$.body.appendChild(i),t=n.getBoundingClientRect().left,i.style[ht.propName]="scaleX(1)",e=n.getBoundingClientRect().left,$.body.removeChild(i),e===t}function M(t){var e=A(t,"transform"),i=A(t,"display");return"none"!==e&&"inline"!==i&&"none"!==i}function j(e){var i,n;if(e===$)return null;if(e===t)return $;if(i=A(e,"position"),"relative"===i)return e;if("fixed"!==i&&"absolute"!==i)return null;if("fixed"===i&&ut)return t;if(n=e===$.documentElement?$:e.parentElement||null,"fixed"===i){for(;n&&n!==$&&!M(n);)n=n.parentElement||$;return n===$?t:n}for(;n&&n!==$&&"static"===A(n,"position")&&!M(n);)n=n.parentElement||$;return n}function N(e,i){var n={left:0,top:0};if(e===$)return n;if(n.left=t.pageXOffset||0,n.top=t.pageYOffset||0,e.self===t.self)return n;var r=e.getBoundingClientRect();if(n.left+=r.left,n.top+=r.top,i=i||"border","margin"===i){var o=b(e,"margin-left"),a=b(e,"margin-top");n.left-=o>0?o:0,n.top-=a>0?a:0}else"border"!==i&&(n.left+=b(e,"border-left-width"),n.top+=b(e,"border-top-width"));return"content"===i&&(n.left+=b(e,"padding-left"),n.top+=b(e,"padding-top")),n}function z(t){var e=t.tagName.toLowerCase();"a"!==e&&"img"!==e||t.addEventListener("dragstart",K,!1)}function V(t){var e=t.tagName.toLowerCase();"a"!==e&&"img"!==e||t.removeEventListener("dragstart",K,!1)}function T(t,e,i,n){var r,a,s=t.getItems(i),l=n||{},d=l.instant===!0,f=l.onFinish,h=l.layout?l.layout:l.layot===o,u=s.length,_="show"===e,g=_?Dt:St,c=_?Ct:xt,p=!1,m=[],y=[],v=[];for(a=0;a<s.length;a++)r=s[a],(_?r._isHidden||r._isHiding||r._isShowing&&d:!r.isHidden||r._isShowing||r._isHiding&&d)&&(m[m.length]=r);if(u=m.length){for(t._emitter.emit(g,m.concat()),a=0;a<m.length;a++)r=m[a],(_&&!r._isActive||!_&&r._isActive)&&(p=!0,_&&(r._noLayoutAnimation=!0,v[v.length]=r)),r["_"+e](d,function(e,i){e||(y[y.length]=i),--u<1&&("function"==typeof f&&f(y.concat()),t._emitter.emit(c,y.concat()))});p&&(v.length&&t.refreshItems(v),h&&t.layout("instant"===h,"function"==typeof h?h:o))}else"function"==typeof f&&f(m);return t}function F(t,e){var i=parseInt(e&&e.duration)||0,n=i>0,r=e&&e.easing||"ease",o=e&&y(e.styles)?e.styles:null;return{start:function(t,e,a){var s;n&&o?e?(t._isDefaultChildAnimate?I(t._child,o):R(t._child,o),a&&a()):(s={duration:i,easing:r,done:a},t._isDefaultChildAnimate?t._animateChild.start(null,o,s):t._animateChild.start(o,s)):a&&a()},stop:function(t){t._animateChild.stop()}}}function Q(t,e,i){var n,r=t.splice(0,t.length);for(n=0;n<r.length;n++)r[n](e,i)}function q(t,e){if(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)return 0;var i=it.min(t.left+t.width,e.left+e.width)-it.max(t.left,e.left),n=it.min(t.top+t.height,e.top+e.height)-it.max(t.top,e.top),r=it.min(t.width,e.width),o=it.min(t.height,e.height);return i*n/(r*o)*100}function B(t,e){return"active"===e?t._isActive:"inactive"===e?!t._isActive:"visible"===e?!t._isHiding:"hidden"===e?t._isHiding:"showing"===e?t._isShowing:"hiding"===e?t._isHiding:"positioning"===e?t._isPositioning:"dragging"===e?t._drag&&t._drag._dragData.isActive:"releasing"===e?t._drag&&t._drag._releaseData.isActive:"migrating"===e&&t._migrate.isActive}function W(t){var e,i={};for(e=0;e<t.length;e++)i[t[e]._id]=e;return i}function U(t,e,i,n){var r=n[t._id],o=n[e._id];return i?o-r:r-o}function J(t,e,i,n){var r,o,a,s,l,d=0;for(l=0;l<n.length;l++)if(r=n[l][0],o=n[l][1],a=(t._sortData?t:t._refreshSortData())._sortData[r],s=(e._sortData?e:e._refreshSortData())._sortData[r],d="d"===o||!o&&i?s<a?-1:s>a?1:0:a<s?-1:a>s?1:0,0!==d)return d;return d}function K(t){t.preventDefault&&t.preventDefault()}function Z(t,e){var i,n=tt.keys(t).concat(tt.keys(e.prototype));for(i=0;i<n.length;i++)t[n[i]]=null}var $=t.document,tt=t.Object,et=t.Array,it=t.Math,nt=t.Error,rt=t.Element,ot={},at={},st={},lt=function(){},dt=0,ft=X(),ht=Y("transform"),ut=O(),_t="refresh",gt="refreshItems",ct="refreshSortData",pt="synchronize",mt="layoutStart",yt="layoutEnd",vt="add",wt="remove",Dt="showStart",Ct="showEnd",St="hideStart",xt="hideEnd",At="sort",bt="move",Ht="send",Rt="receiveStart",It="receiveEnd",Et="dragStart",Gt="dragMove",Pt="dragScroll",Xt="dragSort",Yt="dragSend",Lt="dragReceive",kt="dragReceiveDrop",Ot="dragEnd",Mt="dragReleaseStart",jt="dragReleaseEnd",Nt="destroy";return a.Item=s,a.Drag=u,a.Layout=l,a.AnimateLayout=h,a.AnimateVisibility=h,a.Emitter=f,a.defaultOptions={items:"*",show:{duration:300,easing:"ease",styles:{opacity:1,scale:1}},hide:{duration:300,easing:"ease",styles:{opacity:0,scale:.5}},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1},layoutOnResize:100,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",dragEnabled:!1,dragContainer:null,dragStartPredicate:null,dragSort:!0,dragSortInterval:50,dragSortPredicate:{threshold:50,action:"move"},dragSortGroup:null,dragSortConnections:null,dragReleaseDuration:300,dragReleaseEasing:"ease",containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing"},a.prototype.on=function(t,e){return this._emitter.on(t,e),this},a.prototype.off=function(t,e){return this._emitter.off(t,e),this},a.prototype.getElement=function(){return this._element},a.prototype.getRect=function(){return{width:this._width,height:this._height,left:this._offset.left,right:this._offset.left+this._width,top:this._offset.top,bottom:this._offset.top+this._height}},a.prototype.getItems=function(t,e){var i,n,r=this,o=t&&"string"!=typeof t,a=o?v(t)?P(t):[].concat(t):null,s=o?e:t,l=[];if(s="string"==typeof s?s:null,s||a){for(a=a||r._items,n=0;n<a.length;n++)i=o?r._getItem(a[n]):a[n],!i||s&&!B(i,s)||(l[l.length]=i);return l}return l.concat(r._items)},a.prototype.refresh=function(){var t,e,i,n=this,r=n._element,o=r.getBoundingClientRect();for(n._width=it.round(o.width),n._height=it.round(o.height),n._offset=n._offset||{},n._offset.left=it.round(o.left),n._offset.top=it.round(o.top),n._border=n._border||{},n._padding=n._padding||{},t=["left","right","top","bottom"],i=0;i<t.length;i++)e=t[i],n._border[e]=it.round(b(r,"border-"+e+"-width")),n._padding[e]=it.round(b(r,"padding-"+e));return n._boxSizing=A(r,"box-sizing"),n._emitter.emit(_t),n},a.prototype.refreshItems=function(t){var e,i=this,n=i.getItems(t||"active");for(e=0;e<n.length;e++)n[e]._refresh();return i._emitter.emit(gt,n),i},a.prototype.refreshSortData=function(t){var e,i=this,n=i.getItems(t);for(e=0;e<n.length;e++)n[e]._refreshSortData();return i._emitter.emit(ct,n),i},a.prototype.synchronize=function(){var t,e,i,n=this,r=n._element,o=n._items;if(o.length){for(i=0;i<o.length;i++)e=o[i]._element,e.parentNode===r&&(t=t||$.createDocumentFragment(),t.appendChild(e));t&&r.appendChild(t)}return n._emitter.emit(pt),n},a.prototype.layout=function(t,e){function i(t,e){t||(y[y.length]=e),++p===m&&("function"==typeof _&&_(y.concat()),u.emit(yt,y.concat()))}var n,r,o,s,l,d,f,h=this,u=h._emitter,_="function"==typeof t?t:e,g=t===!0,c=new a.Layout(h),p=0,m=c.items.length,y=[];if(h._layout=c,u.emit(mt,c.items.concat()),(c.setWidth||c.setHeight)&&(r=h._padding,o=h._border,s="border-box"===h._boxSizing,c.setHeight&&R(h._element,{height:(s?c.height+r.top+r.bottom+o.top+o.bottom:c.height)+"px"}),c.setWidth&&R(h._element,{width:(s?c.width+r.left+r.right+o.left+o.right:c.width)+"px"}),n=h._element.getBoundingClientRect(),h._width=it.round(n.width),h._height=it.round(n.height)),m)for(f=0;f<c.items.length;f++)l=c.items[f],d=c.slots[l._id],l._left=d.left+h._padding.left,l._top=d.top+h._padding.top,l._drag&&l._drag._dragData.isActive?i(!1,l):l._layout(g,i);else i(!0);return h},a.prototype.add=function(t,e){var i,n,r,s=this,l=[].concat(t),d=e||{},f=d.layout?d.layout:d.layot===o,h=[],u=s._items,_=!1;for(r=0;r<u.length;r++)i=l.indexOf(u[r]._element),i>-1&&l.splice(i,1);if(!l.length)return h;for(r=0;r<l.length;r++)n=new a.Item(s,l[r]),h[h.length]=n,n._isActive&&(_=!0,n._noLayoutAnimation=!0);return S(u,h,d.index),s._emitter.emit(vt,h.concat()),_&&f&&s.layout("instant"===f,"function"==typeof f?f:o),h},a.prototype.remove=function(t,e){var i,n,r=this,a=r.getItems(t),s=e||{},l=s.layout?s.layout:s.layot===o,d=[],f=!1;for(n=0;n<a.length;n++)i=a[n],i._isActive&&(f=!0),d[d.length]=i._destroy(s.removeElement);return r._emitter.emit(wt,d.concat()),f&&l&&r.layout("instant"===l,"function"==typeof l?l:o),d},a.prototype.show=function(t,e){return T(this,"show",t,e)},a.prototype.hide=function(t,e){return T(this,"hide",t,e)},a.prototype.filter=function(t,e){var i,n,r,a=this,s=a._items,l=typeof t,d="string"===l,f="function"===l,h=e||{},u=h.instant===!0,_=h.layout?h.layout:h.layot===o,g="function"==typeof h.onFinish?h.onFinish:null,c=[],p=[],m=-1;if(!s.length)return a;if(i=g?function(){++m&&g(c.concat(),p.concat())}:lt,f||d)for(r=0;r<s.length;r++)n=s[r],(f?t(n,n._element):ft(n._element,t))?c.push(n):p.push(n);return c.length?a.show(c,{instant:u,onFinish:i,layout:!1}):i(),p.length?a.hide(p,{instant:u,onFinish:i,layout:!1}):i(),(c.length||p.length)&&_&&a.layout("instant"===_,"function"==typeof _?_:o),a},a.prototype.sort=function(t,e){var i,n,r=this,a=r._items,s=e||{},l=!!s.descending,d=s.layout?s.layout:s.layot===o;if(a.length<2)return r;if("function"==typeof t)i=a.concat(),a.sort(function(e,r){return t(e,r)||U(e,r,l,n||(n=W(i)))});else if("string"==typeof t)i=a.concat(),t=t.trim().split(" ").map(function(t){return t.split(":")}),a.sort(function(e,r){return J(e,r,l,t)||U(e,r,l,n||(n=W(i)))});else{if(!et.isArray(t))return r;a.splice(0,a.length).concat(t)}return r._emitter.emit(At,a.concat()),d&&r.layout("instant"===d,"function"==typeof d?d:o),r},a.prototype.move=function(t,e,i){var n,r,a,s,l,d=this,f=d._items,h=i||{},u=h.layout?h.layout:h.layot===o;return f.length<2?d:(n=d._getItem(t),r=d._getItem(e),l="swap"===action,action=l?"swap":"move",n&&r&&n!==r&&(a=f.indexOf(n),s=f.indexOf(r),(l?c:p)(f,a,s),d._emitter.emit(bt,{item:n,fromIndex:a,toIndex:s,action:action}),u&&d.layout("instant"===u,"function"==typeof u?u:o)),d)},a.prototype.send=function(t,e,i){var n,r,s,l=this,d=l._settings,f=e,u=f._settings,_=i||{},g=_.appendTo||$.body,c=_.position,p=_.layout?_.layout:_.layot===o,m=l._getItem(t),y=m._migrate,v=m._element,w=m.isActive(),D=(m.isVisible()||m.isShowing())&&!m.isHiding(),C=l._items.indexOf(m),x="number"==typeof c?c:c?f._items.indexOf(f._getItem(c)):-1;return m._stopLayout(!0),m._stopMigrate(!0),l._itemShowHandler.stop(m),l._itemHideHandler.stop(m),m._drag&&m._drag.destroy(),m._animate.destroy(),m._animateChild.destroy(),Q(m._visibilityQueue,!0,m),G(v,d.itemClass),G(v,d.itemVisibleClass),G(v,d.itemHiddenClass),E(v,u.itemClass),E(v,D?u.itemVisibleClass:u.itemHiddenClass),l._items.splice(C,1),S(f._items,m,x),m._gridId=f._id,m._animate=new a.AnimateLayout(m,v),m._animateChild=new a.AnimateVisibility(m,m._child),m._isDefaultAnimate=m._animate instanceof h,m._isDefaultChildAnimate=m._animateChild instanceof h,l._element!==g&&(r=H(v,"x"),s=H(v,"y"),g.appendChild(v),n=L(v,l._element),r+=n.left,s+=n.top,n=L(v,f._element),y.containerDiffX=n.left,y.containerDiffY=n.top,R(v,{transform:"translateX("+r+"px) translateY("+s+"px)"})),R(v,{display:D?"block":"hidden"}),m._child.removeAttribute("style"),D?f._itemShowHandler.start(m,!0):f._itemHideHandler.start(m,!0),m._refresh(),m._refreshSortData(),m._drag=u.dragEnabled?new a.Drag(m):null,y.isActive=!0,y.appendTo=g,y.fromGrid=l,y.fromIndex=C,y.toIndex=x,l._emitter.emit(Ht,{item:m,fromIndex:C,toGrid:f,toIndex:x}),f._emitter.emit(Rt,{item:m,fromGrid:l,fromIndex:C,toIndex:x}),w&&p&&("instant"===p?(l.layout(!0),f.layout(!0)):"function"==typeof p?(l.layout(function(t){p(t,l)}),f.layout(function(t){p(t,f)})):(l.layout(),f.layout())),l},a.prototype.destroy=function(e){var i,n=this,r=n._element,s=n._items.concat();for(n._resizeHandler&&t.removeEventListener("resize",n._resizeHandler),i=0;i<s.length;i++)s[i]._destroy(e);n._unsetSortGroup(),G(r,n._settings.containerClass),R(r,{height:""}),n._emitter.emit(Nt).destroy(),ot[n._id]=o,Z(n,a)},a.prototype._getItem=function(t){var e,i,n,r,o=this;if(t){if(t instanceof s)return t._gridId===o._id?t:null;if("number"==typeof t)return e=t>-1?t:o._items.length+t,o._items[e]||null;for(i=null,r=0;r<o._items.length;r++)if(n=o._items[r],n._element===t){i=n;break}return i}return o._items[0]||null},a.prototype._setSortGroup=function(t){var e=this;return e._sortGroup=null,t&&"string"==typeof t&&(e._sortGroup=t,st[t]||(st[t]=[]),st[t].push(e._id)),e},a.prototype._unsetSortGroup=function(){var t,e,i=this,n=i._sortGroup;if(n){for(t=st[n],e=0;e<t.length;e++)if(t[e]===i._id){t.splice(e,1);break}i._sortGroup=null}return i},a.prototype._getSortConnections=function(t){var e,i,n,r,o=this,a=t?[o]:[],s=o._sortConnections;if(s&&s.length)for(r=0;r<s.length;r++)if(e=st[s[r]],e&&e.length)for(n=0;n<e.length;n++)i=e[n],i!==o._id&&a.push(ot[i]);return a},s.prototype.getGrid=function(){return ot[this._gridId]},s.prototype.getElement=function(){return this._element},s.prototype.getWidth=function(){return this._width},s.prototype.getHeight=function(){return this._height},s.prototype.getMargin=function(){return{left:this._margin.left,right:this._margin.right,top:this._margin.top,bottom:this._margin.bottom}},s.prototype.getPosition=function(){return{left:this._left,top:this._top}},s.prototype.isActive=function(){return this._isActive},s.prototype.isVisible=function(){return!this._isHidden},s.prototype.isShowing=function(){return this._isShowing},s.prototype.isHiding=function(){return this._isHiding},s.prototype.isPositioning=function(){return this._isPositioning},s.prototype.isDragging=function(){return this._drag&&this._drag._dragData.isActive},s.prototype.isReleasing=function(){return this._drag&&this._drag._releaseData.isActive},s.prototype.isMigrating=function(){return this._migrate.isActive},s.prototype._stopLayout=function(t){var e=this;return e._isPositioning?(e._animate.stop(),G(e._element,e.getGrid()._settings.itemPositioningClass),e._isPositioning=!1,t&&Q(e._layoutQueue,!0,e),e):e},s.prototype._refresh=function(){var t,e,i,n,r,o,a=this;if(a._isHidden)return a;for(t=a._element,i=["left","right","top","bottom"],r=a._margin=a._margin||{},o=0;o<4;o++)n=it.round(b(t,"margin-"+i[o])),r[i[o]]=n>0?n:0;return e=t.getBoundingClientRect(),a._width=it.round(e.width),a._height=it.round(e.height),a._outerWidth=a._width+r.left+r.right,a._outerHeight=a._height+r.top+r.bottom,a},s.prototype._refreshSortData=function(){var t=this,e={},i=t.getGrid()._settings.sortData;return i&&tt.keys(i).forEach(function(n){e[n]=i[n](t,t._element)}),t._sortData=e,t},s.prototype._layout=function(t,e){var i,r,o,a,s=this,l=s._element,d=s.getGrid(),f=d._settings,h=s._drag?s._drag._releaseData:{},u=h.isActive&&h.isPositioningStarted===!1,_=u?f.dragReleaseDuration:f.layoutDuration,g=u?f.dragReleaseEasing:f.layoutEasing,c=!t&&!s._noLayoutAnimation&&_>0,p=s._isPositioning,m=s._migrate,y=function(){s._isPositioning&&(s._isPositioning=!1,G(l,f.itemPositioningClass)),h.isActive&&s._drag._stopRelease(),m.isActive&&s._stopMigrate(),Q(s._layoutQueue,!1,s)};if(p&&Q(s._layoutQueue,!0,s),u&&(h.isPositioningStarted=!0),"function"==typeof e&&(s._layoutQueue[s._layoutQueue.length]=e),i=h.isActive?h.containerDiffX:m.isActive?m.containerDiffX:0,r=h.isActive?h.containerDiffY:m.isActive?m.containerDiffY:0,c){if(p&&s._isDefaultAnimate?(o=parseFloat(n.hook(l,"translateX"))-i,a=parseFloat(n.hook(l,"translateY"))-r):(o=H(l,"x")-i,a=H(l,"y")-r),s._left===o&&s._top===a)return s._stopLayout(),void y();p||(s._isPositioning=!0,E(l,f.itemPositioningClass)),s._animate.start({translateX:o+i+"px",translateY:a+r+"px"},{translateX:s._left+i,translateY:s._top+r},{duration:_,easing:g,onFinish:y})}else s._stopLayout(),s._noLayoutAnimation=!1,h.isActive&&l.parentNode!==d._element&&m.isActive&&m.appendTo!==d._element||R(l,{transform:"translateX("+(s._left+i)+"px) translateY("+(s._top+r)+"px)"}),y();return s},s.prototype._show=function(t,e){var i=this,n=i._element,r=i._visibilityQueue,o=i.getGrid(),a=o._settings,s="function"==typeof e?e:null;return i._isShowing?t?(o._itemShowHandler.stop(),Q(r,!0,i),s&&(r[r.length]=s),o._itemShowHandler.start(i,t,function(){Q(r,!1,i)})):s&&(r[r.length]=s):i._isHidden?(i._isHiding&&o._itemHideHandler.stop(i),i._isActive=i._isShowing=!0,i._isHidden=i._isHiding=!1,E(n,a.itemVisibleClass),G(n,a.itemHiddenClass),R(n,{display:"block"}),Q(r,!0,i),s&&(r[r.length]=s),o._itemShowHandler.start(i,t,function(){Q(r,!1,i)})):s&&s(!1,i),i},s.prototype._hide=function(t,e){var i=this,n=i._element,r=i._visibilityQueue,o=i.getGrid(),a=o._settings,s="function"==typeof e?e:null;return i._isHiding?t?(o._itemHideHandler.stop(),Q(r,!0,i),s&&(r[r.length]=s),o._itemHideHandler.start(i,t,function(){R(n,{display:"none"}),Q(r,!1,i)})):s&&(r[r.length]=s):i._isHidden?s&&s(!1,i):(i._isShowing&&o._itemShowHandler.stop(i),i._isHidden=i._isHiding=!0,i._isActive=i._isShowing=!1,E(n,a.itemHiddenClass),G(n,a.itemVisibleClass),Q(r,!0,i),"function"==typeof s&&(r[r.length]=s),o._itemHideHandler.start(i,t,function(){R(n,{display:"none"}),Q(r,!1,i)})),i},s.prototype._stopMigrate=function(t){var e,i,n,r,o,a,s,l=this,d=l._migrate;return d.isActive?(e=l._element,i=l.getGrid(),d.appendTo!==i._element&&(n=t?H(e,"x")-d.containerDiffX:l._left,r=t?H(e,"y")-d.containerDiffY:l._top,i._element.appendChild(e),R(e,{transform:"translateX("+n+"px) translateY("+r+"px)"})),t||(o=d.fromGrid,a=d.fromIndex,s=d.toIndex),d.isActive=!1,d.appendTo=null,d.containerDiffX=0,d.containerDiffY=0,d.fromGrid=null,d.fromIndex=0,d.toIndex=0,t||i._emitter.emit(It,{item:l,fromGrid:o,fromIndex:a,toIndex:s}),l):l},s.prototype._destroy=function(t){var e=this,i=e.getGrid(),n=i._settings,r=e._element,a=i._items.indexOf(e);e._stopLayout(!0),i._itemShowHandler.stop(e),i._itemHideHandler.stop(e),e._stopMigrate(!0),e._drag&&e._drag.destroy(),e._animate.destroy(),e._animateChild.destroy(),r.removeAttribute("style"),e._child.removeAttribute("style"),Q(e._visibilityQueue,!0,e),G(r,n.itemPositioningClass),G(r,n.itemDraggingClass),G(r,n.itemReleasingClass),G(r,n.itemClass),G(r,n.itemVisibleClass),G(r,n.itemHiddenClass),a>-1&&i._items.splice(a,1),t&&r.parentNode.removeChild(r),at[e._id]=o,Z(e,s)},d.getSlot=function(t,e,i,n,r,o){var a,s,l,f,h,u=e[0]||[],_=[],g={left:null,top:null,width:i,height:n};for(f=0;f<u.length;f++)if(a=u[f],g.width<=a.width&&g.height<=a.height){g.left=a.left,g.top=a.top;break}for(null===g.left&&(g.left=r?0:t.width,g.top=r?t.height:0,o||(l=!0)),r&&g.top+g.height>t.height&&(g.left>0&&(_[_.length]={left:0,top:t.height,width:g.left,height:1/0}),g.left+g.width<t.width&&(_[_.length]={left:g.left+g.width,top:t.height,width:t.width-g.left-g.width,height:1/0}),t.height=g.top+g.height),!r&&g.left+g.width>t.width&&(g.top>0&&(_[_.length]={left:t.width,top:0,width:1/0,height:g.top}),g.top+g.height<t.height&&(_[_.length]={left:t.width,top:g.top+g.height,width:1/0,height:t.height-g.top-g.height}),t.width=g.left+g.width),f=o?0:l?u.length:f;f<u.length;f++)for(s=d.splitRect(u[f],g),h=0;h<s.length;h++)a=s[h],a.width>0&&a.height>0&&(r&&a.top<t.height||!r&&a.left<t.width)&&(_[_.length]=a);return d.purgeSlots(_).sort(r?d.sortRectsTopLeft:d.sortRectsLeftTop),e[0]=_,g},d.sortRectsTopLeft=function(t,e){return t.top<e.top?-1:t.top>e.top?1:t.left<e.left?-1:t.left>e.left?1:0},d.sortRectsLeftTop=function(t,e){return t.left<e.left?-1:t.left>e.left?1:t.top<e.top?-1:t.top>e.top?1:0},d.isRectWithinRect=function(t,e){return t.left>=e.left&&t.top>=e.top&&t.left+t.width<=e.left+e.width&&t.top+t.height<=e.top+e.height},d.purgeSlots=function(t){for(var e,i,n,r=t.length;r--;)for(i=t[r],e=t.length;e--;)if(n=t[e],r!==e&&d.isRectWithinRect(i,n)){t.splice(r,1);break}return t},d.splitRect=function(t,e){var i=[],n=!(e.left>t.left+t.width||e.left+e.width<t.left||e.top>t.top+t.height||e.top+e.height<t.top);return n?(t.left<e.left&&(i[i.length]={left:t.left,top:t.top,width:e.left-t.left,height:t.height}),t.left+t.width>e.left+e.width&&(i[i.length]={left:e.left+e.width,top:t.top,width:t.left+t.width-(e.left+e.width),height:t.height}),t.top<e.top&&(i[i.length]={left:t.left,top:t.top,width:t.width,height:e.top-t.top}),t.top+t.height>e.top+e.height&&(i[i.length]={left:t.left,top:e.top+e.height,width:t.width,height:t.top+t.height-(e.top+e.height)})):i[0]=t,i},f.prototype.on=function(t,e){var i=this._events=this._events||{},n=i[t]||[];return n[n.length]=e,i[t]=n,this},f.prototype.off=function(t,e){var n=this._events=this._events||{},r=n[t]||[],o=r.length;if(o)for(;o--;)e===r[i]&&r.splice(o,1);return this},f.prototype.emit=function(t,e,i,n){var r,o,a=this._events=this._events||{},s=a[t]||[],l=s.length;if(l)for(r=arguments.length-1,s=s.concat(),o=0;o<l;o++)0===r?s[o]():1===r?s[o](e):2===r?s[o](e,i):s[o](e,i,n);return this},f.prototype.destroy=function(){var t,e=this._events||{},i=tt.keys(e);for(t=0;t<i.length;t++)e[i[t]].length=0,e[i[t]]=null;return this},h.prototype.start=function(t,e,i){var r=this,o=r._element,a=i||{},s="function"==typeof a.onFinish?a.onFinish:null,l={duration:a.duration||300,delay:a.delay||0,easing:a.easing||"ease",queue:r._queue};r._isAnimating&&r.stop(),t&&I(o,t),r._isAnimating=!0,s&&(l.complete=function(){s()}),n(o,e,l),n.Utilities.dequeue(o,r._queue)},h.prototype.stop=function(){this._isAnimating&&(this._isAnimating=!1,n(this._element,"stop",this._queue))},h.prototype.destroy=function(){this.stop(),Z(this,h)},u.defaultStartPredicate=function(t,e,i){i.resolve()},u.defaultSortPredicate=function(t){var e,i,n,r,o,a,s,l=t._drag,d=l._getGrid(),f=d._settings.dragSortPredicate||{},h=d._getSortConnections(!0),u={width:t._width,height:t._height,left:it.round(l._dragData.elementClientX),top:it.round(l._dragData.elementClientY)},_=0,g=0,c=null;for(s=0;s<h.length;s++)a=h[s],i=q(u,{width:a._width,height:a._height,left:a._offset.left,top:a._offset.top}),(null===c||i>c)&&(c=i,e=s);if(!c)return!1;if(n=h[e],r=n._items,n===d?(u.left=it.round(l._dragData.gridX)+t._margin.left,u.top=it.round(l._dragData.gridY)+t._margin.top):(_=n._offset.left+n._border.left+n._padding.left,g=n._offset.top+n._border.top+n._padding.top),e=c=null,r.length)for(s=0;s<r.length;s++)o=r[s],o._isActive&&o!==t&&(i=q(u,{width:o._width,height:o._height,left:it.round(o._left)+o._margin.left+_,top:it.round(o._top)+o._margin.top+g}),(null===c||i>c)&&(c=i,e=s));else e=0,c=q(u,{width:n._width,height:n._height,left:n._offset.left,top:n._offset.top});return null!==c&&c>=(f.threshold||50)&&{grid:n,index:e,action:f.action||"move"}},u.prototype.destroy=function(){var t=this,e=t._getItem();return t._dragData.isActive?t._stopDrag():t._releaseData.isActive&&t._stopRelease(!0),t._hammer.destroy(),V(e._element),V(e._child),Z(t,u),t},u.prototype._getItem=function(){return at[this._itemId]||null},u.prototype._getGrid=function(){return ot[this._gridId]||null},u.prototype._setupDragData=function(){var t=this,e=t._dragData;return e.isActive=!1,e.startEvent=null,e.currentEvent=null,e.scrollParents=[],e.left=0,e.top=0,e.gridX=0,e.gridY=0,e.elementClientX=0,e.elementClientY=0,e.containerDiffX=0,e.containerDiffY=0,t},u.prototype._setupReleaseData=function(){var t=this,e=t._releaseData;return e.isActive=!1,e.isPositioningStarted=!1,e.containerDiffX=0,e.containerDiffY=0,t},u.prototype._checkOverlap=function(){var t,e,i,n,r,o,a=this,s=a._getItem(),l=a._sortPredicate(s);return l?(t=a._dragData.currentEvent,e=s.getGrid(),i=e._items.indexOf(s),n=l.grid||e,r=l.index,o=l.action||"move",e===n?(("swap"===o?c:p)(e._items,i,r),e._emitter.emit(Xt,t,{item:s,fromIndex:i,toIndex:r,action:o}),e.layout()):(s._gridId=n._id,a._isMigrating=s._gridId!==a._gridId,e._items.splice(i,1),S(n._items,s,r),s._sortData=null,e._emitter.emit(Yt,t,{item:s,fromIndex:i,toGrid:n,toIndex:r}),n._emitter.emit(Lt,t,{item:s,fromGrid:e,fromIndex:i,toIndex:r}),e.layout(),n.layout()),a):a},u.prototype._finishMigration=function(t){var e,i,n,r,o=this,s=o._getItem(),l=s._element,d=o._getGrid(),f=d._settings,u=s.getGrid(),_=u._settings,g=_.dragEnabled&&_._dragGrid?_._dragGrid:u._element,c=0,p=0;
return o._isMigrating=!1,o._dragData.isActive||(o._releaseData.isActive=!0),o.destroy(),s._animate.destroy(),s._animateChild.destroy(),G(l,f.itemClass),G(l,f.itemVisibleClass),G(l,f.itemHiddenClass),E(l,_.itemClass),E(l,_.itemVisibleClass),s._animate=new a.AnimateLayout(s,l),s._animateChild=new a.AnimateVisibility(s,s._child),s._isDefaultAnimate=s._animate instanceof h,s._isDefaultChildAnimate=s._animateChild instanceof h,n=H(l,"x"),r=H(l,"y"),g.appendChild(l),i=L(l,d._element),n+=i.left,r+=i.top,g!==u._element&&(i=L(l,u._element),c=i.left,p=i.top),R(l,{transform:"translateX("+n+"px) translateY("+r+"px)"}),s._child.removeAttribute("style"),u._itemShowHandler.start(s,!0),s._refresh(),s._refreshSortData(),s._drag=_.dragEnabled?new a.Drag(s):null,u._emitter.emit(kt,t,s),s._drag?(e=s._drag._releaseData,e.containerDiffX=c,e.containerDiffY=p,s._drag._startRelease()):s._layout(),o},u.prototype._stopDrag=function(){var t,e,i,n=this,r=n._dragData;if(!r.isActive)return n;if(n._isMigrating)return void n._finishMigration(r.currentEvent);for(t=n._getItem()._element,e=n._getGrid(),i=0;i<r.scrollParents.length;i++)r.scrollParents[i].removeEventListener("scroll",n._scrollHandler);return n._checkSortOverlap("cancel"),t.parentNode!==e._element&&(e._element.appendChild(t),R(t,{transform:"translateX("+r.gridX+"px) translateY("+r.gridY+"px)"})),G(t,e._settings.itemDraggingClass),n._setupDragData(),n},u.prototype._startRelease=function(){var t,e,i,n=this,r=n._releaseData;return r.isActive?n:(t=n._getItem(),e=t._element,i=n._getGrid(),r.isActive=!0,E(e,i._settings.itemReleasingClass),i._emitter.emit(Mt,t),t._layout(!1),n)},u.prototype._stopRelease=function(t){var e,i,n,r,o,a=this,s=a._releaseData;return s.isActive?(e=a._getItem(),i=e._element,n=a._getGrid(),G(i,n._settings.itemReleasingClass),i.parentNode!==n._element&&(r=t?H(i,"x")-s.containerDiffX:e._left,o=t?H(i,"y")-s.containerDiffY:e._top,n._element.appendChild(i),R(i,{transform:"translateX("+r+"px) translateY("+o+"px)"})),a._setupReleaseData(),t||n._emitter.emit(jt,e),a):a},u.prototype._onDragStart=function(t){var e,i,n,r,o,a,s,l,d,f,h,u,_,g=this,c=g._getItem();if(c._isActive){for(e=c._element,i=g._getGrid(),n=i._settings,r=g._dragData,o=g._releaseData,c._isPositioning&&c._stopLayout(!0),c._migrate.isActive&&c._stopMigrate(!0),o.isActive&&(G(e,n.itemReleasingClass),g._setupReleaseData()),r.isActive=!0,r.startEvent=r.currentEvent=t,a=H(e,"x"),s=H(e,"y"),l=i._element,d=n.dragContainer,r.left=r.gridX=a,r.top=r.gridY=s,d&&d!==l&&(u=e.parentNode===d,u||d.appendChild(e),f=L(e,l),r.containerDiffX=f.left,r.containerDiffY=f.top,u?(r.gridX=a-r.containerDiffX,r.gridY=s-r.containerDiffY):(r.left=a+r.containerDiffX,r.top=s+r.containerDiffY,R(e,{transform:"translateX("+r.left+"px) translateY("+r.top+"px)"}))),h=e.getBoundingClientRect(),r.elementClientX=h.left,r.elementClientY=h.top,r.scrollParents=k(e),d&&d!==l&&(r.scrollParents=m(r.scrollParents.concat(k(l)))),_=0;_<r.scrollParents.length;_++)r.scrollParents[_].addEventListener("scroll",g._scrollHandler);return E(e,n.itemDraggingClass),i._emitter.emit(Et,t,c),g}},u.prototype._onDragMove=function(t){var e,i,n,r,o,a,s=this,l=s._getItem();return l._isActive?(e=l._element,i=s._getGrid(),n=i._settings,r=s._dragData,o=t.deltaX-r.currentEvent.deltaX,a=t.deltaY-r.currentEvent.deltaY,r.currentEvent=t,r.left+=o,r.top+=a,r.gridX+=o,r.gridY+=a,r.elementClientX+=o,r.elementClientY+=a,R(e,{transform:"translateX("+r.left+"px) translateY("+r.top+"px)"}),n.dragSort&&s._checkSortOverlap(),i._emitter.emit(Gt,t,l),s):void s._stopDrag()},u.prototype._onDragScroll=function(t){var e,i=this,n=i._getItem(),r=n._element,o=i._getGrid(),a=o._settings,s=i._dragData,l=o._element,d=a.dragContainer,f=r.getBoundingClientRect(),h=s.elementClientX-f.left,u=s.elementClientY-f.top;return d&&d!==l&&(e=L(r,l),s.containerDiffX=e.left,s.containerDiffY=e.top),s.left+=h,s.top+=u,s.gridX=s.left-s.containerDiffX,s.gridY=s.top-s.containerDiffY,R(r,{transform:"translateX("+s.left+"px) translateY("+s.top+"px)"}),a.dragSort&&i._checkSortOverlap(),o._emitter.emit(Pt,t,n),i},u.prototype._onDragEnd=function(t){var e,i=this,n=i._getItem(),r=n._element,o=i._getGrid(),a=o._settings,s=i._dragData,l=i._releaseData;if(!n._isActive)return void i._stopDrag();for(a.dragSort&&i._checkSortOverlap("finish"),e=0;e<s.scrollParents.length;e++)s.scrollParents[e].removeEventListener("scroll",i._scrollHandler);return G(r,a.itemDraggingClass),l.containerDiffX=s.containerDiffX,l.containerDiffY=s.containerDiffY,i._setupDragData(),o._emitter.emit(Ot,t,n),i._isMigrating?i._finishMigration(t):i._startRelease(),i},_.prototype.isResolved=function(){return this._isResolved},_.prototype.isRejected=function(){return this._isRejected},_.prototype.resolve=function(){var t=this;t._isRejected||t._isResolved||(t._isResolved=!0,"function"==typeof t._onResolved&&t._onResolved(),t._onResolved=t._onRejected=null)},_.prototype.reject=function(){var t=this;t._isRejected||t._isResolved||(t._isRejected=!0,"function"==typeof t._onRejected&&t._onRejected(),t._onResolved=t._onRejected=null)},a});